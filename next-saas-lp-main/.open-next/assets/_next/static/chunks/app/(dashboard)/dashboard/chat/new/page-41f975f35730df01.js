(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8565],{20063:(e,t,r)=>{"use strict";var s=r(47260);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},20508:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},35299:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},35626:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37586:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},67310:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var s=r(95155),a=r(35626),i=r(86651),n=r(35299),o=r(37586),l=r(20508),c=r(12115),d=r(20063),h=r(18720);function m(){let e=(0,d.useRouter)(),[t,r]=(0,c.useState)(""),[m,u]=(0,c.useState)(!1),x=async()=>{if(!t.trim())return void h.oR.error("Please enter an email address");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))return void h.oR.error("Please enter a valid email address");try{u(!0);let r=localStorage.getItem("auth_token"),s=await fetch("".concat("http://127.0.0.1:8000","/chat/conversation/start/email/"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)},credentials:"include",body:JSON.stringify({email:t.trim().toLowerCase()})});if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to start conversation")}let a=await s.json();if(a.success)h.oR.success(a.created?"New conversation started!":"Opened existing conversation"),e.push("/dashboard/chat?conversation=".concat(a.conversation_id));else throw Error(a.error||"Failed to start conversation")}catch(e){console.error("Error starting conversation:",e),h.oR.error(e instanceof Error?e.message:"Failed to start conversation")}finally{u(!1)}};return(0,s.jsx)("div",{className:"min-h-screen p-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("button",{onClick:()=>e.back(),className:"flex items-center gap-2 text-gray-400 hover:text-white transition mb-6",children:[(0,s.jsx)(a.A,{className:"w-4 h-4"}),"Back to Messages"]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"New Conversation"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Start a conversation with another user"})]}),(0,s.jsxs)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-8",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-white mb-2",children:"User Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.A,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:t,onChange:e=>r(e.target.value),onKeyPress:e=>{"Enter"!==e.key||m||x()},placeholder:"user@example.com",disabled:m,className:"w-full pl-12 pr-4 py-4 bg-[#1a1a1a] border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50"})]}),(0,s.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Enter the email address of the user you want to message"})]}),(0,s.jsx)("button",{onClick:x,disabled:m||!t.trim(),className:"w-full bg-gradient-to-r from-purple-500 to-pink-500 hover:opacity-90 text-white px-6 py-4 rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:m?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{className:"w-5 h-5 animate-spin"}),"Searching..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.A,{className:"w-5 h-5"}),"Start Conversation"]})})]}),(0,s.jsxs)("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:(0,s.jsx)(o.A,{className:"w-5 h-5 text-purple-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white mb-1",children:"Direct Messaging"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Send private messages to other users on the platform"})]})]})}),(0,s.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-lg p-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-pink-500/20 rounded-lg",children:(0,s.jsx)(l.A,{className:"w-5 h-5 text-pink-400"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-white mb-1",children:"Find Users"}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Search by email to connect with creators and brands"})]})]})})]})]})})}},68013:(e,t,r)=>{Promise.resolve().then(r.bind(r,67310))},71847:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var s=r(12115);let a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:c="",children:d,iconNode:h,...m}=e;return(0,s.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:r,strokeWidth:l?24*Number(o)/Number(n):o,className:a("lucide",c),...m},[...h.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),o=(e,t)=>{let r=(0,s.forwardRef)((r,i)=>{let{className:o,...l}=r;return(0,s.createElement)(n,{ref:i,iconNode:t,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),o),...l})});return r.displayName="".concat(e),r}},86651:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(71847).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},e=>{e.O(0,[8720,8441,1255,7358],()=>e(e.s=68013)),_N_E=e.O()}]);