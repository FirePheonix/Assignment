(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3965],{6132:(e,r,s)=>{"use strict";s.d(r,{A:()=>t});let t=(0,s(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},31080:(e,r,s)=>{Promise.resolve().then(s.bind(s,85404))},54218:(e,r,s)=>{"use strict";s.d(r,{H:()=>o});var t=s(95155),l=s(48493);let a={sm:"w-8 h-8 text-xs",md:"w-10 h-10 text-sm",lg:"w-16 h-16 text-lg",xl:"w-24 h-24 text-2xl"};function o(e){let{user:r,size:s="md",className:o=""}=e;return(0,t.jsxs)(l.eu,{className:"".concat(a[s]," ").concat(o),children:[(null==r?void 0:r.profile_picture)&&(0,t.jsx)(l.BK,{src:r.profile_picture,alt:r.username||"User"}),(0,t.jsx)(l.q5,{className:"bg-gradient-to-br from-purple-500 to-pink-500 text-white font-bold",children:(()=>{if(null==r?void 0:r.first_name){var e,s,t;return((null==(e=r.first_name[0])?void 0:e.toUpperCase())||"")+((null==(t=r.last_name)||null==(s=t[0])?void 0:s.toUpperCase())||"")}return(null==r?void 0:r.username)?r.username.substring(0,2).toUpperCase():(null==r?void 0:r.email)?r.email.substring(0,2).toUpperCase():"U"})()})]})}},85404:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>v});var t=s(95155),l=s(8888),a=s(67168),o=s(48751),n=s(22539),i=s(59603);s(8301);var c=s(12115),d=s(30080),u=s(41498),m=s(6132),p=s(99708),x=s(39867),h=s(18720),f=s(20063),g=s(54218),b=s(52619),w=s.n(b);let j={"gpt-4o":{id:"gpt-4o",label:"GPT-4o",provider:"openai",priceIndicator:"high"},"gpt-4o-mini":{id:"gpt-4o-mini",label:"GPT-4o Mini",provider:"openai",priceIndicator:"lowest"},"claude-3-5-sonnet":{id:"claude-3-5-sonnet",label:"Claude 3.5 Sonnet",provider:"anthropic",priceIndicator:"high"}};function v(e){let{params:r}=e,{slug:s}=(0,c.use)(r),[b,v]=(0,c.useState)(null),[k,N]=(0,c.useState)(!0),[y,C]=(0,c.useState)(null),[_,E]=(0,c.useState)(!1),[I,S]=(0,c.useState)(!1),U=(0,f.useRouter)();(0,c.useEffect)(()=>{S(!!localStorage.getItem("auth_token"))},[]),(0,c.useEffect)(()=>{(async()=>{try{N(!0),C(null);let e=await d.r.getBySlug(s);v(e)}catch(e){console.error("Error loading workspace:",e),C(e instanceof Error?e.message:"Workspace not found")}finally{N(!1)}})()},[s]);let A=async()=>{if(b){if(!I){h.oR.error("Please login to import this workspace"),U.push("/login?redirect=".concat(encodeURIComponent("/flow-generator/".concat(b.slug))));return}try{E(!0);let e=await d.k.importWorkspace(b.id);h.oR.success("Workspace imported successfully!"),U.push("/flow-generator/".concat(e.slug))}catch(e){console.error("Error importing workspace:",e),h.oR.error(e instanceof Error?e.message:"Failed to import workspace")}finally{E(!1)}}};return k?(0,t.jsx)("div",{className:"h-[calc(100vh-6rem)] w-full rounded-2xl overflow-hidden border border-white/10 bg-black flex items-center justify-center",children:(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading workspace..."})}):y||!b?(0,t.jsxs)("div",{className:"h-[calc(100vh-6rem)] w-full rounded-2xl overflow-hidden border border-white/10 bg-black flex flex-col items-center justify-center gap-4",children:[(0,t.jsx)(m.A,{className:"w-12 h-12 text-red-500"}),(0,t.jsx)("p",{className:"text-red-400 text-lg",children:y||"Workspace not found"}),(0,t.jsx)(u.$,{onClick:()=>U.push("/feed"),variant:"outline",children:"Browse Feed"})]}):(0,t.jsxs)("div",{className:"h-[calc(100vh-6rem)] w-full overflow-hidden bg-black rounded-2xl border border-white/10 relative",children:[(0,t.jsxs)("div",{className:"absolute top-4 left-1/2 -translate-x-1/2 z-[60] flex items-center gap-2 px-6 py-3 bg-amber-500/10 border border-amber-500/20 rounded-full backdrop-blur-sm",children:[(0,t.jsx)(p.A,{className:"w-4 h-4 text-amber-500"}),(0,t.jsx)("span",{className:"text-sm text-amber-500 font-medium",children:"Read-Only Mode"}),(0,t.jsxs)(u.$,{size:"sm",onClick:A,disabled:_,className:"ml-2 gap-2",children:[(0,t.jsx)(x.A,{className:"w-4 h-4"}),_?"Importing...":"Import to Edit"]})]}),(0,t.jsxs)("div",{className:"absolute top-4 left-4 z-[50] bg-card/90 backdrop-blur-sm rounded-lg border border-white/10 p-3 max-w-sm",children:[(0,t.jsx)("h2",{className:"font-semibold text-white mb-1",children:b.name}),b.description&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-2",children:b.description}),(0,t.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[(0,t.jsxs)(w(),{href:"/users/".concat(b.userId),className:"flex items-center gap-1.5 hover:text-purple-400 transition-colors",children:[(0,t.jsx)(g.H,{user:{profile_picture:b.userProfilePicture,username:b.userName},size:"sm"}),(0,t.jsxs)("span",{children:["By ",b.userName]})]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:[b.viewCount," views"]}),(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{children:[b.cloneCount," imports"]})]})]}),(0,t.jsx)(a.Np,{data:b,children:(0,t.jsx)(o.L,{models:j,children:(0,t.jsx)(n.Ln,{children:(0,t.jsx)(i.sq,{children:(0,t.jsx)(l.H,{readOnly:!0,children:(0,t.jsx)(i.H2,{})})})})})})]})}}},e=>{e.O(0,[6597,8803,3862,5004,277,297,8720,5239,9335,873,5983,2966,9376,7880,8888,8441,1255,7358],()=>e(e.s=31080)),_N_E=e.O()}]);