(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7753],{6132:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},11010:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},13148:(e,t,a)=>{"use strict";a.d(t,{U:()=>o});let r="http://127.0.0.1:8000";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("auth_token"),r={...!(t.body instanceof FormData)&&{"Content-Type":"application/json"},...a&&{Authorization:"Token ".concat(a)},...t.headers};return await fetch(e,{...t,headers:r})}class l{async getConfig(e){let t=await s("".concat(r,"/api/brands/").concat(e,"/twitter/config/"));if(!t.ok)throw Error("Failed to fetch Twitter configuration");return t.json()}async saveConfig(e,t){let a=await s("".concat(r,"/api/brands/").concat(e,"/twitter/config/"),{method:"POST",body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to save Twitter configuration");return a.json()}async testConnection(e){let t=await s("".concat(r,"/api/brands/").concat(e,"/twitter/test/"),{method:"POST"}),a=await t.json();return t.ok?a:{success:!1,error:a.error||"Connection test failed"}}async sendTestTweet(e,t){let a=await s("".concat(r,"/api/brands/").concat(e,"/twitter/test-tweet/"),{method:"POST",body:JSON.stringify({content:t})}),l=await a.json();return a.ok?l:{success:!1,error:l.error||"Tweet failed"}}async disconnect(e){let t=await s("".concat(r,"/api/brands/").concat(e,"/twitter/disconnect/"),{method:"POST"});if(!t.ok)throw Error((await t.json()).error||"Failed to disconnect Twitter")}async getQueue(e){let t=e?"".concat(r,"/api/brands/").concat(e,"/twitter/queue/"):"".concat(r,"/api/twitter/queue/"),a=await s(t);if(!a.ok)throw Error("Failed to fetch Twitter queue");return a.json()}async createQueuedTweet(e){let t=await s("".concat(r,"/api/twitter/queue/"),{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to create tweet");return t.json()}async updateQueuedTweet(e,t){let a=await s("".concat(r,"/api/twitter/queue/").concat(e,"/update/"),{method:"PATCH",body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to update tweet");return a.json()}async deleteQueuedTweet(e){let t=await s("".concat(r,"/api/twitter/queue/").concat(e,"/"),{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete tweet")}async postTweetNow(e){let t=await s("".concat(r,"/api/twitter/queue/").concat(e,"/post/"),{method:"POST"}),a=await t.json();return t.ok?a:{success:!1,error:a.error||"Failed to post tweet"}}async generateAITweets(e,t){let a=await s("".concat(r,"/api/brands/").concat(e,"/twitter/generate/"),{method:"POST",body:JSON.stringify(t||{prompt:"General updates",count:3})}),l=await a.json();return a.ok?l:{success:!1,count:0,error:l.error||"Failed to generate tweets"}}async uploadMedia(e){try{let t=new FormData;t.append("file",e);let a=await s("".concat(r,"/api/twitter/upload-media/"),{method:"POST",body:t,headers:{}}),l=await a.json();if(!a.ok)return{success:!1,error:l.error||"Failed to upload media"};return{success:!0,url:l.url}}catch(e){return{success:!1,error:e.message||"Failed to upload media"}}}async getAnalytics(e){let t=e?"".concat(r,"/api/brands/").concat(e,"/twitter/analytics/"):"".concat(r,"/api/twitter/analytics/"),a=await s(t);if(!a.ok)throw Error("Failed to fetch Twitter analytics");return a.json()}}let o=new l},16485:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},19377:(e,t,a)=>{"use strict";a.d(t,{E:()=>o});var r=a(12115),s=a(84335),l=a(18720);function o(){let[e,t]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[n,i]=(0,r.useState)(null),d=(0,r.useCallback)(async()=>{try{o(!0);let e=await s.v.getBrands();t(e);let a=e.find(e=>e.is_default);i(a||null)}catch(e){console.error("Failed to fetch brands:",e),l.oR.error("Failed to fetch brands")}finally{o(!1)}},[]),c=(0,r.useCallback)(async a=>{try{let r=await s.v.createBrand(a);return t(e=>[...e,r]),0===e.length&&i(r),l.oR.success("Brand created successfully"),r}catch(e){throw console.error("Failed to create brand:",e),l.oR.error(e.message||"Failed to create brand"),e}},[e.length]),u=(0,r.useCallback)(async(e,a)=>{try{let r=await s.v.updateBrand(e,a);return t(t=>t.map(t=>t.id===e?r:t)),(null==n?void 0:n.id)===e&&i(r),l.oR.success("Brand updated successfully"),r}catch(e){throw console.error("Failed to update brand:",e),l.oR.error(e.message||"Failed to update brand"),e}},[null==n?void 0:n.id]),h=(0,r.useCallback)(async a=>{try{await s.v.setDefaultBrand(a),t(e=>e.map(e=>({...e,is_default:e.id===a})));let r=e.find(e=>e.id===a);i(r||null),l.oR.success("Default brand updated")}catch(e){console.error("Failed to set default brand:",e),l.oR.error(e.message||"Failed to set default brand")}},[e]);return(0,r.useEffect)(()=>{d()},[d]),{brands:e,defaultBrand:n,isLoading:a,createBrand:c,updateBrand:u,setDefault:h,refetch:d}}},21786:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},24997:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>k});var r=a(95155),s=a(6191),l=a(95740),o=a(65229),n=a(60890),i=a(21786),d=a(11010),c=a(97378),u=a(6132),h=a(26983),m=a(16485),x=a(42529),p=a(93499),b=a(85921),w=a(71360),g=a(12115),f=a(13148),y=a(18720),j=a(19377),v=a(52619),N=a.n(v);function k(){let{brands:e=[],isLoading:t}=(0,j.E)(),{tweets:a=[],isLoading:v=!1,stats:k={total_queued:0,total_scheduled:0,total_drafts:0,total_posted:0},createTweet:_,updateTweet:A,deleteTweet:T,postNow:F,generateAITweets:C,refetch:S}=function(e){let[t,a]=(0,g.useState)([]),[r,s]=(0,g.useState)(!0),[l,o]=(0,g.useState)({total_queued:0,total_scheduled:0,total_drafts:0,total_posted:0}),n=(0,g.useCallback)(async()=>{try{s(!0);let t=await f.U.getQueue(e);a(t.tweets),o(t.stats)}catch(e){console.error("Failed to fetch Twitter queue:",e),y.oR.error("Failed to fetch Twitter queue")}finally{s(!1)}},[e]),i=(0,g.useCallback)(async e=>{try{let t=await f.U.createQueuedTweet(e);return a(e=>[t,...e]),y.oR.success("Tweet created successfully"),o(e=>({...e,total_drafts:e.total_drafts+ +("draft"===t.status),total_scheduled:e.total_scheduled+ +("scheduled"===t.status)})),t}catch(e){throw console.error("Failed to create tweet:",e),y.oR.error(e.message||"Failed to create tweet"),e}},[]),d=(0,g.useCallback)(async(e,t)=>{try{let r=await f.U.updateQueuedTweet(e,t);return a(t=>t.map(t=>t.id===e?r:t)),y.oR.success("Tweet updated successfully"),r}catch(e){throw console.error("Failed to update tweet:",e),y.oR.error(e.message||"Failed to update tweet"),e}},[]),c=(0,g.useCallback)(async e=>{try{await f.U.deleteQueuedTweet(e),a(t=>t.filter(t=>t.id!==e)),y.oR.success("Tweet deleted successfully"),await n()}catch(e){console.error("Failed to delete tweet:",e),y.oR.error(e.message||"Failed to delete tweet")}},[n]),u=(0,g.useCallback)(async e=>{try{let t=await f.U.postTweetNow(e);return t.success?(y.oR.success("Tweet posted successfully"),await n()):y.oR.error(t.error||"Failed to post tweet"),t}catch(e){console.error("Failed to post tweet:",e),y.oR.error(e.message||"Failed to post tweet")}},[n]),h=(0,g.useCallback)(async(e,t)=>{try{let a=await f.U.generateAITweets(e,t);return a.success?(y.oR.success("Generated ".concat(a.count," tweets successfully")),await n()):y.oR.error(a.error||"Failed to generate tweets"),a}catch(e){throw console.error("Failed to generate AI tweets:",e),y.oR.error(e.message||"Failed to generate AI tweets"),e}},[n]);return(0,g.useEffect)(()=>{n()},[n]),{tweets:t,isLoading:r,stats:l,createTweet:i,updateTweet:d,deleteTweet:c,postNow:u,generateAITweets:h,refetch:n}}(void 0),[M,R]=(0,g.useState)(!1),[P,E]=(0,g.useState)(null),[D,O]=(0,g.useState)(!1),[B,q]=(0,g.useState)(!1),[U,I]=(0,g.useState)(!1),[L,z]=(0,g.useState)(""),[Q,W]=(0,g.useState)({content:"",scheduled_at:"",brand_id:0,media_urls:[]}),H=(e||[]).filter(e=>e.has_twitter_config),J=e=>{if(!e)return"";let t=new Date(e);if(isNaN(t.getTime()))return"";let a=e=>String(e).padStart(2,"0"),r=t.getFullYear(),s=a(t.getMonth()+1),l=a(t.getDate()),o=a(t.getHours()),n=a(t.getMinutes());return"".concat(r,"-").concat(s,"-").concat(l,"T").concat(o,":").concat(n)},G=async()=>{if(!Q.content.trim())return void y.oR.error("Please enter tweet content");if(Q.content.length>280)return void y.oR.error("Tweet must be 280 characters or less");if(!Q.brand_id)return void y.oR.error("Please select a brand");try{let e={content:Q.content,brand_id:Q.brand_id,media_urls:Q.media_urls.length>0?Q.media_urls:void 0};Q.scheduled_at&&(e.scheduled_at=Q.scheduled_at),await _(e),W({content:"",scheduled_at:"",brand_id:0,media_urls:[]}),R(!1),I(!1),z(""),null==S||S()}catch(e){console.error("Failed to create tweet:",e)}},V=async()=>{if(P){if(!Q.content.trim())return void y.oR.error("Please enter tweet content");if(Q.content.length>280)return void y.oR.error("Tweet must be 280 characters or less");try{let e={content:Q.content,media_urls:Q.media_urls},t=J(P.scheduled_at);Q.scheduled_at!==t&&(e.scheduled_at=Q.scheduled_at||null),await A(P.id,e),E(null),W({content:"",scheduled_at:"",brand_id:0,media_urls:[]}),R(!1),I(!1),z(""),null==S||S()}catch(e){console.error("Failed to update tweet:",e)}}},X=()=>{E(null),W({content:"",scheduled_at:"",brand_id:0,media_urls:[]}),R(!1),I(!1),z("")},Y=async e=>{if(confirm("Are you sure you want to post this tweet now?"))try{await F(e),null==S||S()}catch(e){console.error("Post now failed:",e)}},$=async e=>{if(!e)return;if(!e.type.startsWith("image/")&&!e.type.startsWith("video/"))return void y.oR.error("Please select an image or video file");let t=e.type.startsWith("video/")?0x6400000:0xa00000;if(e.size>t)return void y.oR.error("File size must be less than ".concat(e.type.startsWith("video/")?"100MB":"10MB"));q(!0);try{let t=await f.U.uploadMedia(e);t.success&&t.url?(W(e=>({...e,media_urls:[...e.media_urls,t.url]})),y.oR.success("Media uploaded successfully!")):y.oR.error(t.error||"Failed to upload media")}catch(e){console.error("Media upload failed:",e),y.oR.error("Failed to upload media")}finally{q(!1)}},K=async()=>{if(!L.trim())return void y.oR.error("Please enter a prompt for AI generation");if(!Q.brand_id)return void y.oR.error("Please select a brand first");O(!0);try{let e=await C(Q.brand_id,{prompt:L,count:1,tone:"professional"});if(e.success&&e.tweets&&e.tweets.length>0){let t=e.tweets[0].content;W(e=>({...e,content:t}));try{await T(e.tweets[0].id)}catch(e){console.error("Failed to delete draft:",e)}I(!1),z(""),y.oR.success("AI text generated!")}else y.oR.error(e.error||"Failed to generate text")}catch(e){console.error("AI generation failed:",e),y.oR.error(e.message||"Failed to generate AI text")}finally{O(!1)}},Z=e=>e.match(/\.(mp4|mov|avi|webm)$/i),ee=async e=>{if(confirm("Are you sure you want to delete this tweet?"))try{await T(e),null==S||S()}catch(e){console.error("Delete failed:",e)}},et=e=>{if(!e)return"";let t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleString()};return(0,r.jsxs)("div",{className:"p-8 bg-black min-h-screen",children:[(0,r.jsx)("div",{className:"background-pattern-blue"}),(0,r.jsxs)("div",{className:"mb-6 relative z-10",children:[(0,r.jsxs)("nav",{className:"text-sm text-gray-400 mb-2",children:[(0,r.jsx)(N(),{href:"/dashboard",className:"hover:text-white transition-colors",children:"Dashboard"}),(0,r.jsx)("span",{className:"mx-2",children:"→"}),(0,r.jsx)(N(),{href:"/dashboard/brands",className:"hover:text-white transition-colors",children:"Brands"}),(0,r.jsx)("span",{className:"mx-2",children:"→"}),(0,r.jsx)("span",{className:"text-blue-400",children:"Twitter Queue"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:"Twitter/X Post Queue"}),(0,r.jsx)("p",{className:"text-gray-400",children:"All scheduled tweets across all your brands"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(N(),{href:"/dashboard/twitter/config",className:"bg-white/5 border border-white/10 hover:bg-white/10 text-white py-2 px-4 rounded-lg transition-colors",children:"Configuration"}),(0,r.jsx)("button",{onClick:()=>R(!0),disabled:0===H.length,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:opacity-90 disabled:opacity-50 text-white font-medium py-2 px-4 rounded-lg transition-opacity",children:"Create Tweet"})]})]})]}),(0,r.jsx)("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-xl p-6 mb-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-gray-400",children:k.total_posted+k.total_scheduled+k.total_drafts}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Total Tweets"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-500",children:k.total_posted}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Posted"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-blue-500",children:k.total_scheduled}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Scheduled"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-purple-500",children:k.total_drafts}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:"Drafts"})]})]})}),!M&&(0,r.jsxs)("div",{className:"mb-6 flex gap-3",children:[(0,r.jsxs)("button",{onClick:()=>R(!0),disabled:0===H.length,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:opacity-90 disabled:opacity-50 text-white font-medium py-3 px-6 rounded-lg transition flex items-center gap-2",children:[(0,r.jsx)(s.A,{className:"w-4 h-4"}),"Create New Tweet"]}),0===H.length&&(0,r.jsxs)("p",{className:"text-sm text-gray-400 mt-2",children:["No brands with Twitter configured. ",(0,r.jsx)(N(),{href:"/dashboard/twitter/config",className:"text-blue-400 hover:text-blue-300",children:"Configure Twitter"})]})]}),M&&(0,r.jsxs)("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-xl p-6 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-white",children:P?"Edit Tweet":"Create New Tweet"}),(0,r.jsx)("button",{onClick:X,className:"text-gray-400 hover:text-white z-10 relative",children:"✕"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400",children:"Tweet Content"}),(0,r.jsxs)("button",{type:"button",onClick:()=>I(!U),disabled:!Q.brand_id,className:"text-purple-400 hover:text-purple-300 disabled:opacity-50 disabled:cursor-not-allowed text-sm flex items-center gap-1 relative z-10",children:[(0,r.jsx)(l.A,{className:"w-4 h-4"}),U?"Hide":"Generate with AI"]})]}),U&&(0,r.jsxs)("div",{className:"mb-3 p-3 bg-purple-500/10 border border-purple-500/30 rounded-lg",children:[(0,r.jsx)("input",{type:"text",value:L,onChange:e=>z(e.target.value),placeholder:"Describe what the tweet should be about...",className:"w-full p-2 bg-black border border-purple-500/30 rounded text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-purple-500 mb-2"}),(0,r.jsx)("button",{onClick:K,disabled:!L.trim()||D,className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:opacity-90 disabled:opacity-50 disabled:cursor-not-allowed text-white px-4 py-2 rounded text-sm font-medium transition flex items-center gap-2",children:D?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),"Generating..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.A,{className:"w-3 h-3"}),"Generate Text"]})})]}),(0,r.jsx)("textarea",{rows:4,maxLength:280,value:Q.content,onChange:e=>W(t=>({...t,content:e.target.value})),className:"w-full p-3 bg-black border border-white/10 rounded-lg text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"What's happening?"}),(0,r.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[Q.content.length," / 280 characters"]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Media (Optional)"}),(0,r.jsxs)("div",{className:"space-y-3",children:[Q.media_urls.length>0&&(0,r.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Q.media_urls.map((e,t)=>(0,r.jsxs)("div",{className:"relative aspect-video rounded-lg overflow-hidden border border-white/10",children:[Z(e)?(0,r.jsx)("video",{src:e,controls:!0,className:"w-full h-full object-cover"}):(0,r.jsx)("img",{src:e,alt:"Media ".concat(t+1),className:"w-full h-full object-cover"}),(0,r.jsx)("button",{onClick:()=>{W(e=>({...e,media_urls:e.media_urls.filter((e,a)=>a!==t)}))},className:"absolute top-2 right-2 p-1.5 bg-red-500 rounded-full text-white hover:bg-red-600 transition",children:(0,r.jsx)(o.A,{className:"w-3 h-3"})}),Z(e)&&(0,r.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 p-1.5 rounded",children:(0,r.jsx)(n.A,{className:"w-3 h-3 text-white"})})]},t))}),Q.media_urls.length<4&&(0,r.jsxs)("label",{className:"bg-white/5 border border-white/10 hover:bg-white/10 text-gray-400 hover:text-white px-4 py-2 rounded-lg font-medium transition inline-flex items-center gap-2 cursor-pointer",children:[B?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,r.jsx)("span",{children:"Uploading..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.A,{className:"w-4 h-4"}),(0,r.jsx)("span",{children:"Upload Media"})]}),(0,r.jsx)("input",{type:"file",accept:"image/*,video/*",onChange:e=>e.target.files&&$(e.target.files[0]),className:"hidden",disabled:B})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Images (JPG, PNG up to 10MB) or Videos (MP4 up to 100MB). Max 4 files."})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Brand"}),(0,r.jsxs)("select",{value:Q.brand_id,onChange:e=>W(t=>({...t,brand_id:Number(e.target.value)})),className:"w-full p-3 bg-black border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!!P,children:[(0,r.jsx)("option",{value:0,disabled:!0,children:"-- Select Brand --"}),e.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.name," ",e.has_twitter_config?"✓":"(not connected)"]},e.id))]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:P?"Brand cannot be changed when editing":"Select a brand to post from"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Schedule For (Optional)"}),(0,r.jsx)("input",{type:"datetime-local",value:Q.scheduled_at,onChange:e=>W(t=>({...t,scheduled_at:e.target.value})),min:new Date().toISOString().slice(0,16),className:"w-full p-3 bg-black border border-white/10 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to save as draft"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsxs)("button",{onClick:P?V:G,disabled:!Q.content.trim()||!Q.brand_id,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg font-medium transition flex items-center gap-2",children:[P?(0,r.jsx)(d.A,{className:"w-4 h-4"}):(0,r.jsx)(s.A,{className:"w-4 h-4"}),P?"Update Tweet":"Create Tweet"]}),(0,r.jsx)("button",{onClick:X,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-medium transition",children:"Cancel"})]})]})]}),(0,r.jsx)("div",{className:"space-y-6",children:v?(0,r.jsxs)("div",{className:"text-center py-12 bg-[#1a1a1a] border border-white/10 rounded-xl",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Loading tweets..."})]}):0===a.length?(0,r.jsxs)("div",{className:"text-center py-12 bg-[#1a1a1a] border border-white/10 rounded-xl",children:[(0,r.jsx)(c.A,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),(0,r.jsx)("h4",{className:"text-lg font-medium text-gray-400 mb-2",children:"No tweets yet"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mb-6",children:"Create your first tweet to get started"}),(0,r.jsxs)("button",{onClick:()=>R(!0),disabled:0===H.length,className:"bg-gradient-to-r from-blue-500 to-blue-600 hover:opacity-90 disabled:opacity-50 text-white px-6 py-3 rounded-lg font-medium transition inline-flex items-center gap-2",children:[(0,r.jsx)(s.A,{className:"w-4 h-4"}),"Create Tweet"]})]}):(()=>{let e=new Date,t=new Date(e.getFullYear(),e.getMonth(),e.getDate()),s=new Date(t.getTime()+864e5),l=new Date(t.getTime()+6048e5),o={overdue:[],today:[],tomorrow:[],thisWeek:[],later:[],posted:[],drafts:[]};a.forEach(t=>{if("posted"===t.status)o.posted.push(t);else if(t.scheduled_at){let a=new Date(t.scheduled_at);isNaN(a.getTime())?o.drafts.push(t):a<e?o.overdue.push(t):a<s?o.today.push(t):a<new Date(s.getTime()+864e5)?o.tomorrow.push(t):a<l?o.thisWeek.push(t):o.later.push(t)}else o.drafts.push(t)});let n=[{key:"overdue",title:"Overdue",color:"text-red-400",icon:u.A},{key:"today",title:"Today",color:"text-green-400",icon:h.A},{key:"tomorrow",title:"Tomorrow",color:"text-blue-400",icon:m.A},{key:"thisWeek",title:"This Week",color:"text-purple-400",icon:m.A},{key:"later",title:"Later",color:"text-gray-400",icon:m.A},{key:"posted",title:"Posted",color:"text-green-400",icon:x.A},{key:"drafts",title:"Drafts",color:"text-gray-400",icon:d.A}];return(0,r.jsx)(r.Fragment,{children:n.map(e=>{let t=o[e.key];if(0===t.length)return null;let a=e.icon;return(0,r.jsxs)("div",{className:"bg-[#1a1a1a] border border-white/10 rounded-xl p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)(a,{className:"w-5 h-5 ".concat(e.color)}),(0,r.jsx)("h3",{className:"text-lg font-semibold ".concat(e.color),children:e.title}),(0,r.jsxs)("span",{className:"text-sm text-gray-500",children:["(",t.length,")"]})]}),(0,r.jsx)("div",{className:"space-y-3",children:t.map(e=>{var t,a,s,l,o;return(0,r.jsx)("div",{className:"bg-black border border-white/10 rounded-lg p-4 hover:border-blue-500/50 transition",children:(0,r.jsx)("div",{className:"flex gap-4",children:(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-4 mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-6 h-6 rounded bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-xs font-bold",children:null!=(l=null==(a=e.brand)||null==(t=a.name)?void 0:t.substring(0,1).toUpperCase())?l:"?"}),(0,r.jsx)("span",{className:"text-sm font-medium text-white",children:null!=(o=null==(s=e.brand)?void 0:s.name)?o:"Unknown"}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat((e=>{switch(e){case"posted":return"text-green-400 bg-green-500/20";case"scheduled":return"text-blue-400 bg-blue-500/20";case"queued":return"text-purple-400 bg-purple-500/20";case"draft":default:return"text-gray-400 bg-gray-500/20";case"failed":return"text-red-400 bg-red-500/20"}})(e.status)),children:e.status||"unknown"})]}),e.twitter_url&&(0,r.jsxs)("a",{href:e.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 flex items-center gap-1 text-xs",children:[(0,r.jsx)(p.A,{className:"w-3 h-3"}),"View"]})]}),(0,r.jsx)("p",{className:"text-gray-300 text-sm mb-2 whitespace-pre-wrap",children:e.content||"No content"}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-xs text-gray-500 mb-3",children:[e.scheduled_at&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(h.A,{className:"w-3 h-3"}),et(e.scheduled_at)]}),e.posted_at&&(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[(0,r.jsx)(x.A,{className:"w-3 h-3"}),"Posted ",et(e.posted_at)]})]}),e.error_message&&(0,r.jsxs)("div",{className:"text-xs text-red-400 mb-3 flex items-center gap-1",children:[(0,r.jsx)(u.A,{className:"w-3 h-3"}),e.error_message]}),(0,r.jsx)("div",{className:"flex items-center gap-2",children:"posted"!==e.status&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("button",{onClick:()=>Y(e.id),className:"text-green-400 hover:text-green-300 text-xs px-3 py-1.5 rounded bg-green-500/10 hover:bg-green-500/20 transition flex items-center gap-1",children:[(0,r.jsx)(b.A,{className:"w-3 h-3"}),"Post Now"]}),(0,r.jsxs)("button",{onClick:()=>{var t,a;E(e),W({content:e.content,scheduled_at:J(e.scheduled_at),brand_id:null!=(a=null==(t=e.brand)?void 0:t.id)?a:0,media_urls:e.media_urls||[]}),R(!0)},className:"text-blue-400 hover:text-blue-300 text-xs px-3 py-1.5 rounded bg-blue-500/10 hover:bg-blue-500/20 transition flex items-center gap-1",children:[(0,r.jsx)(d.A,{className:"w-3 h-3"}),"Edit"]}),(0,r.jsxs)("button",{onClick:()=>ee(e.id),className:"text-red-400 hover:text-red-300 text-xs px-3 py-1.5 rounded bg-red-500/10 hover:bg-red-500/20 transition flex items-center gap-1",children:[(0,r.jsx)(w.A,{className:"w-3 h-3"}),"Delete"]})]})})]})})},e.id)})})]},e.key)})})})()})]})}},26983:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},42499:(e,t,a)=>{Promise.resolve().then(a.bind(a,24997))},42529:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},60890:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},65229:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},71360:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},84335:(e,t,a)=>{"use strict";a.d(t,{v:()=>o});let r="http://127.0.0.1:8000";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=localStorage.getItem("auth_token"),r=function(){if("undefined"==typeof document)return null;let e="csrftoken";for(let t of document.cookie.split(";"))if((t=t.trim()).startsWith(e+"="))return decodeURIComponent(t.substring(e.length+1));return null}(),s={"Content-Type":"application/json",...a&&{Authorization:"Token ".concat(a)},...r&&{"X-CSRFToken":r},...t.headers};return await fetch(e,{...t,headers:s,credentials:"include"})}class l{async getBrands(){let e=await s("".concat(r,"/api/brands/"));if(!e.ok)throw Error("Failed to fetch brands");return e.json()}async createBrand(e){let t=await s("".concat(r,"/api/brands/create/"),{method:"POST",body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json()).error||"Failed to create brand");return t.json()}async updateBrand(e,t){let a=await s("".concat(r,"/api/brands/").concat(e,"/"),{method:"PUT",body:JSON.stringify(t)});if(!a.ok)throw Error((await a.json()).error||"Failed to update brand");return a.json()}async setDefaultBrand(e){let t=await s("".concat(r,"/api/brands/").concat(e,"/set-default/"),{method:"POST"});if(!t.ok)throw Error((await t.json()).error||"Failed to set default brand")}async deleteBrand(e){let t=await s("".concat(r,"/api/brands/").concat(e,"/delete/"),{method:"DELETE"});if(!t.ok)throw Error((await t.json()).error||"Failed to delete brand")}}let o=new l},85921:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},93499:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},95740:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]])},97378:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(71847).A)("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]])}},e=>{e.O(0,[297,8720,8441,1255,7358],()=>e(e.s=42499)),_N_E=e.O()}]);